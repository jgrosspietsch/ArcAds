!function(e,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var i=n();for(var t in i)("object"==typeof exports?exports:e)[t]=i[t]}}("undefined"!=typeof self?self:this,(function(){return function(e){var n={};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=n,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)i.d(t,r,function(n){return e[n]}.bind(null,r));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="",i(i.s=0)}([function(e,n,i){"use strict";function t(e,n){for(var i=0;i<n.length;i++){var t=n[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}i.r(n);var r=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,i,r;return n=e,r=[{key:"Android",value:function(){return!!navigator.userAgent.match(/Android/i)}},{key:"AndroidOld",value:function(){return!!navigator.userAgent.match(/Android 2.3.3/i)}},{key:"AndroidTablet",value:function(){return!(!navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/Mobile/i))}},{key:"Kindle",value:function(){return!!navigator.userAgent.match(/Kindle/i)}},{key:"KindleFire",value:function(){return!!navigator.userAgent.match(/KFOT/i)}},{key:"Silk",value:function(){return!!navigator.userAgent.match(/Silk/i)}},{key:"BlackBerry",value:function(){return!!navigator.userAgent.match(/BlackBerry/i)}},{key:"iOS",value:function(){return!!navigator.userAgent.match(/iPhone|iPad|iPod/i)}},{key:"iPhone",value:function(){return!!navigator.userAgent.match(/iPhone|iPod/i)}},{key:"iPad",value:function(){return!!navigator.userAgent.match(/iPad/i)}},{key:"Windows",value:function(){return!!navigator.userAgent.match(/IEMobile/i)}},{key:"FirefoxOS",value:function(){return!!navigator.userAgent.match(/Mozilla/i)&&!!navigator.userAgent.match(/Mobile/i)}},{key:"Retina",value:function(){return window.retina||window.devicePixelRatio>1}},{key:"any",value:function(){return this.Android()||this.Kindle()||this.KindleFire()||this.Silk()||this.BlackBerry()||this.iOS()||this.Windows()||this.FirefoxOS()}}],(i=null)&&t(n.prototype,i),r&&t(n,r),e}();function o(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var i=[],t=!0,r=!1,o=void 0;try{for(var a,d=e[Symbol.iterator]();!(t=(a=d.next()).done)&&(i.push(a.value),!n||i.length!==n);t=!0);}catch(e){r=!0,o=e}finally{try{t||null==d.return||d.return()}finally{if(r)throw o}}return i}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(){var e,n,i,t,r,o;window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],e="script",n="//www.googletagservices.com/tag/js/gpt.js",i=!0,t=!0,o=document.createElement(e),"script"===e&&(o.src=n,o.async=i||!1,o.defer=i||t||!1,(document.head||document.documentElement).appendChild(o),r&&r())}function d(e){var n=e.ad,i=e.correlator,t=void 0!==i&&i,r=e.prerender,o=void 0===r?null:r,a=e.info,d=void 0===a?{}:a;new Promise((function(e){if(o)try{o(d).then((function(){e("Prerender function has completed.")}))}catch(n){console.warn("ArcAds: Prerender function did not return a promise or there was an error.\n          Documentation: https://github.com/wapopartners/arc-ads/wiki/Utilizing-a-Prerender-Hook"),e("Prerender function did not return a promise or there was an error, ignoring.")}else e("No Prerender function was provided.")})).then((function(){!function e(){window.blockArcAdsLoad||(window.googletag&&window.googletag.pubadsReady?window.googletag.pubads().refresh([n],{changeCorrelator:t}):setTimeout((function(){e()}),200))}()}))}function s(e){window.googletag.cmd.push(e)}function l(e){window.googletag.pubads().disableInitialLoad(),window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().enableAsyncRendering(),this.collapseEmptyDivs&&window.googletag.pubads().collapseEmptyDivs(),window.googletag.enableServices(),e&&window.googletag.pubads().addEventListener("slotRenderEnded",e)}function u(e,n){var i,t,r,o,a=(i="adslot",t=window.location.href,r=i.replace(/[[\]]/g,"\\$&"),(o=new RegExp("[?&]".concat(r,"(=([^&#]*)|&|#|$)")).exec(t))?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null);return!a||""===a&&null===a?"/".concat(e,"/").concat(n):"/".concat(e,"/").concat(a)}function c(e){pbjs.que.push(e)}function p(e){window.apstag&&e()}function f(e){var n=this,i=e.ad,t=e.id,r=e.slotName,o=e.dimensions,a=e.wrapper,s=e.bidding,l=e.correlator,u=void 0!==l&&l,g=e.prerender,b=e.breakpoints,h={adUnit:i,adSlot:r,adDimensions:o,adId:t},w=new Promise((function(e){if(a.prebid&&a.prebid.enabled){var o=a.prebid.timeout||700;c.bind(n,function(e,n,i,t,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;pbjs.requestBids({timeout:i,adUnitCodes:[n],bidsBackHandler:function(){pbjs.setTargetingForGPTAsync([n]),o?o():d({ad:e,info:t,prerender:r})}})}(i,a.prebid.useSlotForAdUnit?r:t,o,h,g,(function(){e("Fetched Prebid ads!")})))}else e("Prebid is not enabled on the wrapper...")})),m=new Promise((function(e){a.amazon&&a.amazon.enabled?function(e,n,i,t){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=i;if(t&&void 0!==window.innerWidth&&void 0!==i[0][0][0]){for(var a=window.innerWidth,d=-1,s=t.length,l=0;l<s;l+=1)if(a>=t[l][0]){d=l;break}o=i[d]}p((function(){var i={slotName:n,slotID:e,sizes:o};window.apstag.fetchBids({slots:[i]},(function(){window.apstag.setDisplayBids(),r&&r()}))}))}(t,r,o,b,(function(){e("Fetched Amazon ads!")})):e("Amazon is not enabled on the wrapper...")}));window.arcBiddingReady?Promise.all([w,m]).then((function(){d({ad:i,correlator:u,prerender:g,info:h})})):setTimeout((function(){f({ad:i,id:t,slotName:r,dimensions:o,wrapper:a,bidding:s,correlator:u,prerender:g})}),200)}var g={},b={};function h(e){try{var n=[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight],i=e.filter((function(e){return e[0][0]<=n[0]&&e[0][1]<=n[1]})),t=i.length>0?i[0][1]:[];return t.length>0&&t[0].constructor!==Array&&(t=[t]),t}catch(n){return e[e.length-1][1]}}function w(e){var n,i,t,r=e.id,o=e.correlators;b[r]=(n=function(e){var n,i=!1;return function(){for(var t,r,o=e.ad,a=e.breakpoints,s=e.id,l=e.bidding,u=e.mapping,c=e.slotName,p=e.wrapper,b=e.prerender,w=window.innerWidth,m=0;m<a.length;m+=1){if(t=a[m],r=a[m+1],w>t&&(w<r||!r)&&n!==t||w===t&&!i){n=t,i=!0;var v=h(u),y={adUnit:o,adSlot:c,adDimensions:v,adId:s};l.prebid&&l.prebid.enabled||l.amazon&&l.amazon.enabled?f({ad:o,id:s,slotName:c,dimensions:v,bidding:l,wrapper:p,prerender:b,correlator:g[s].correlators[m],breakpoints:a}):d({ad:o,correlator:g[s].correlators[m],prerender:b,info:y})}g[s].correlators[m]=!0}}}(e),i=250,function(){for(var e=this,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];clearTimeout(t),t=setTimeout((function(){t=null,n.apply(e,o)}),i)}),window.addEventListener("resize",b[r]),g[r]={listener:b[r],correlators:o}}function m(e){return function(e){if(Array.isArray(e)){for(var n=0,i=new Array(e.length);n<e.length;n++)i[n]=e[n];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(e,n){for(var i=0;i<n.length;i++){var t=n[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}i.d(n,"ArcAds",(function(){return y}));var y=function(){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.dfpId=n.dfp.id||"",this.wrapper=n.bidding||{},this.positions=[],this.collapseEmptyDivs=n.dfp.collapseEmptyDivs,window.isMobile=r,""===this.dfpId?console.warn("ArcAds: DFP id is missing from the arcads initialization script. \n        Documentation: https://github.com/wapopartners/arc-ads#getting-started"):(a(),s(l.bind(this,i)),function(e){var n=e.prebid,i=void 0!==n&&n,t=e.amazon,r=void 0!==t&&t;window.arcBiddingReady=!1;var o=new Promise((function(e){if(i&&i.enabled){if(!pbjs){var n={};n.que=n.que||[]}e("Prebid has been initialized")}else e("Prebid is not enabled on the wrapper...")})),a=new Promise((function(e){r&&r.enabled&&window.apstag?r.id&&""!==r.id?p((function(){window.apstag.init({pubID:r.id,adServer:"googletag"}),e("Amazon scripts have been added onto the page!")})):(console.warn("ArcAds: Missing Amazon account id.\n          Documentation: https://github.com/wapopartners/arc-ads#amazon-tama9"),e("Amazon is not enabled on the wrapper...")):e("Amazon is not enabled on the wrapper...")}));Promise.all([o,a]).then((function(){window.arcBiddingReady=!0}))}(this.wrapper))}var n,i,t;return n=e,(i=[{key:"registerAd",value:function(e){var n=e.id,i=e.slotName,t=e.dimensions,r=e.adType,o=void 0!==r&&r,a=e.targeting,d=void 0===a?{}:a,l=e.display,p=void 0===l?"all":l,f=e.bidding,g=void 0!==f&&f,b=e.iframeBidders,h=void 0===b?["openx"]:b,w=[],v=!1;t&&void 0!==t&&"number"==typeof t[0]?w.push.apply(w,m(t)):t&&void 0!==t&&t.length>0&&void 0===t[0][0][0]?w.push.apply(w,m(t)):t&&t.forEach((function(e){w.push.apply(w,m(e))}));try{if(!(d&&Object.prototype.hasOwnProperty.call(d,"position")||!1===o)){var y=this.positions[o]+1||1;this.positions[o]=y;var A=Object.assign(d,{position:y});Object.assign(e,{targeting:A})}if(isMobile.any()&&"mobile"===p||!isMobile.any()&&"desktop"===p||"all"===p){if(g.prebid&&g.prebid.bids&&this.wrapper.prebid&&this.wrapper.prebid.enabled&&w){pbjs&&h.length>0&&pbjs.setConfig({userSync:{iframeEnabled:!0,filterSettings:{iframe:{bidders:h,filter:"include"}}}});var k=this.wrapper.prebid.useSlotForAdUnit?u(this.dfpId,i):n;c.bind(this,function(e,n,i){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r={code:e,bids:i};r.mediaTypes={banner:{sizes:n}};var o=t.sizeConfig,a=t.config;pbjs.addAdUnits(r),a?pbjs.setConfig(a):o&&pbjs.setConfig({sizeConfig:o})}(k,w,g.prebid.bids,this.wrapper.prebid))}(v=this.displayAd.bind(this,e))&&s(v)}}catch(e){console.error("ads error",e)}}},{key:"registerAdCollection",value:function(e){var n=this;e.forEach((function(e){n.registerAd(e)}))}},{key:"displayAd",value:function(e){var n=e.id,i=e.slotName,t=e.dimensions,r=e.targeting,a=e.sizemap,s=void 0!==a&&a,l=e.bidding,c=void 0!==l&&l,p=e.prerender,g=void 0===p?null:p,b=u(this.dfpId,i),h=t&&!t.length?null:t,m=t?window.googletag.defineSlot(b,h,n):window.googletag.defineOutOfPageSlot(b,n);if(s&&s.breakpoints&&t){var v=function(e,n){var i=[],t=[],r=[];return(n.length?n:null).forEach((function(n,o){i.push([n,e[o]]),-1===t.indexOf(n[0])&&(t.push(n[0]),r.push(!1))})),t.sort((function(e,n){return e-n})),{mapping:i,breakpoints:t,correlators:r}}(h,s.breakpoints),y=v.mapping,A=v.breakpoints,k=v.correlators;if(!m)return;m.defineSizeMapping(y),s.refresh&&w({ad:m,slotName:b,breakpoints:A,id:n,mapping:y,correlators:k,bidding:c,wrapper:this.wrapper,prerender:g})}m&&(m.addService(window.googletag.pubads()),function(e,n){Object.entries(n).forEach((function(n){var i=o(n,2),t=i[0],r=i[1];r&&e.setTargeting(t,r)}))}(m,r));var P=s&&s.breakpoints?s.breakpoints:[];t&&c&&(c.amazon&&c.amazon.enabled||c.prebid&&c.prebid.enabled)?f({ad:m,id:n,slotName:b,dimensions:h,wrapper:this.wrapper,prerender:g,bidding:c,breakpoints:P}):d({ad:m,prerender:g,info:{adUnit:m,adSlot:b,adDimensions:h,adId:n}})}}])&&v(n.prototype,i),t&&v(n,t),e}()}])}));